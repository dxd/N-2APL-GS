\documentclass[11pt]{article}\usepackage[utf8]{inputenc}\usepackage{geometry}
\geometry{a4paper}\usepackage{graphicx} \usepackage{booktabs}
\usepackage{array}
\usepackage{paralist}
\usepackage{verbatim}

\usepackage{listings} 
\usepackage{subfig}
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape}
\usepackage[nottoc,notlof,notlot]{tocbibind}
\usepackage[titles,subfigure]{tocloft} 
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape}
\usepackage{hyperref} 
\title{2OPL Organization log}
\author{2OPL interpreter}
\begin{document}
\maketitle
\tableofcontents

\section{Event history}

\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
0&\texttt{time(1.0)}&true&2013-07-24 10:56:44\\ [1ex] \hline
1&\texttt{time(2.0)}&true&2013-07-24 10:56:44\\ [1ex] \hline
2&\texttt{time(3.0)}&true&2013-07-24 10:56:45\\ [1ex] \hline
3&\texttt{time(4.0)}&true&2013-07-24 10:56:46\\ [1ex] \hline
4&\texttt{time(5.0)}&true&2013-07-24 10:56:47\\ [1ex] \hline
5&\texttt{time(6.0)}&true&2013-07-24 10:56:48\\ [1ex] \hline
6&\texttt{time(7.0)}&true&2013-07-24 10:56:49\\ [1ex] \hline
7&\texttt{time(8.0)}&true&2013-07-24 10:56:50\\ [1ex] \hline
8&\texttt{cargo(cell(19.0,19.0),7.0)}&true&2013-07-24 10:56:50\\ [1ex] \hline
9&\texttt{coin(cell(8.0,6.0),7.0,a1)}&true&2013-07-24 10:56:50\\ [1ex] \hline
10&\texttt{position(a1,cell(3.0,4.0),7.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
11&\texttt{position(a2,cell(7.0,19.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
12&\texttt{position(a3,cell(11.0,2.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
13&\texttt{coin(cell(16.0,16.0),8.0,a2)}&true&2013-07-24 10:56:51\\ [1ex] \hline
14&\texttt{time(9.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
15&\texttt{position(t1,cell(18.0,19.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
16&\texttt{position(a1,cell(3.0,5.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline
17&\texttt{position(a2,cell(6.0,19.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline
18&\texttt{position(a3,cell(11.0,3.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline
19&\texttt{coin(cell(2.0,2.0),9.0,a3)}&true&2013-07-24 10:56:52\\ [1ex] \hline
20&\texttt{position(t1,cell(17.0,19.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline
21&\texttt{position(a1,cell(4.0,5.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline
22&\texttt{time(10.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline
23&\texttt{position(a2,cell(5.0,19.0),9.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
24&\texttt{position(t1,cell(16.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
25&\texttt{position(a3,cell(11.0,4.0),9.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
26&\texttt{position(a1,cell(5.0,5.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
27&\texttt{position(a2,cell(4.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
28&\texttt{position(a3,cell(11.0,5.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
29&\texttt{time(11.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
30&\texttt{position(t1,cell(15.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline
31&\texttt{position(a2,cell(3.0,19.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline
32&\texttt{position(a3,cell(11.0,6.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline
33&\texttt{position(t1,cell(14.0,19.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline
34&\texttt{time(12.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline
35&\texttt{position(a1,cell(5.0,6.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline
36&\texttt{position(a3,cell(11.0,7.0),11.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
37&\texttt{position(a2,cell(3.0,18.0),11.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
38&\texttt{position(t1,cell(13.0,19.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
39&\texttt{position(a1,cell(5.0,7.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
40&\texttt{time(13.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
41&\texttt{position(a3,cell(11.0,8.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
42&\texttt{position(a2,cell(3.0,17.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
43&\texttt{position(t1,cell(12.0,19.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline
44&\texttt{position(a1,cell(5.0,8.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
45&\texttt{position(a3,cell(11.0,9.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
46&\texttt{position(a2,cell(3.0,16.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
47&\texttt{position(t1,cell(11.0,19.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
48&\texttt{time(14.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
49&\texttt{position(a1,cell(5.0,9.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
50&\texttt{position(a3,cell(11.0,10.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
51&\texttt{position(a2,cell(3.0,15.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline
52&\texttt{position(t1,cell(10.0,19.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
53&\texttt{position(a1,cell(5.0,10.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
54&\texttt{position(a3,cell(11.0,11.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
55&\texttt{position(a2,cell(3.0,14.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
56&\texttt{time(15.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
57&\texttt{position(t1,cell(9.0,19.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
58&\texttt{position(a1,cell(6.0,10.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline
59&\texttt{position(a3,cell(11.0,12.0),14.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
60&\texttt{position(a2,cell(3.0,13.0),14.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
61&\texttt{position(t1,cell(8.0,19.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
62&\texttt{position(a1,cell(7.0,10.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
63&\texttt{position(a3,cell(11.0,13.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
64&\texttt{position(a2,cell(3.0,12.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
65&\texttt{time(16.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
66&\texttt{position(t1,cell(7.0,19.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline
67&\texttt{position(a1,cell(8.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
68&\texttt{position(a3,cell(11.0,14.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
69&\texttt{position(a2,cell(3.0,11.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
70&\texttt{position(t1,cell(6.0,19.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
71&\texttt{position(a1,cell(9.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
72&\texttt{time(17.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
73&\texttt{position(a3,cell(11.0,15.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
74&\texttt{position(a2,cell(3.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline
75&\texttt{position(t1,cell(5.0,19.0),16.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
76&\texttt{position(a1,cell(10.0,10.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
77&\texttt{position(a3,cell(11.0,16.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
78&\texttt{position(a2,cell(3.0,9.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
79&\texttt{position(t1,cell(4.0,19.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
80&\texttt{time(18.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
81&\texttt{position(a3,cell(11.0,17.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
82&\texttt{position(a2,cell(3.0,8.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline
83&\texttt{position(t1,cell(3.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
84&\texttt{position(a3,cell(11.0,18.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
85&\texttt{position(a2,cell(3.0,7.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
86&\texttt{position(t1,cell(2.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
87&\texttt{time(19.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
88&\texttt{position(a3,cell(11.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
89&\texttt{position(a2,cell(3.0,6.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline
90&\texttt{position(t1,cell(2.0,18.0),18.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
91&\texttt{position(a3,cell(12.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
92&\texttt{position(t1,cell(2.0,17.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
93&\texttt{position(a3,cell(13.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
94&\texttt{position(t1,cell(2.0,16.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
95&\texttt{time(20.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
96&\texttt{position(a3,cell(14.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline
97&\texttt{position(t1,cell(2.0,15.0),19.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
98&\texttt{position(a3,cell(15.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
99&\texttt{position(t1,cell(2.0,14.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
100&\texttt{position(a3,cell(16.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
101&\texttt{position(t1,cell(2.0,13.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
102&\texttt{position(a3,cell(17.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
103&\texttt{time(21.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
104&\texttt{position(t1,cell(2.0,12.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline
105&\texttt{position(a3,cell(18.0,19.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
106&\texttt{position(t1,cell(2.0,11.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
107&\texttt{position(a3,cell(19.0,19.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
108&\texttt{position(t1,cell(2.0,10.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
109&\texttt{position(t1,cell(2.0,9.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
110&\texttt{time(22.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline
111&\texttt{position(t1,cell(2.0,8.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
112&\texttt{position(t1,cell(2.0,7.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
113&\texttt{position(t1,cell(2.0,6.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
114&\texttt{position(t1,cell(2.0,5.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
115&\texttt{position(t1,cell(2.0,4.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
116&\texttt{time(23.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
117&\texttt{position(t1,cell(2.0,3.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline
118&\texttt{position(t1,cell(2.0,2.0),23.0)}&true&2013-07-24 10:57:06\\ [1ex] \hline
119&\texttt{time(24.0)}&true&2013-07-24 10:57:06\\ [1ex] \hline
120&\texttt{time(25.0)}&true&2013-07-24 10:57:07\\ [1ex] \hline
121&\texttt{time(26.0)}&true&2013-07-24 10:57:08\\ [1ex] \hline
122&\texttt{time(27.0)}&true&2013-07-24 10:57:09\\ [1ex] \hline
123&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline
124&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline
125&\texttt{time(28.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline
126&\texttt{time(29.0)}&true&2013-07-24 10:57:11\\ [1ex] \hline
127&\texttt{time(30.0)}&true&2013-07-24 10:57:12\\ [1ex] \hline
128&\texttt{time(31.0)}&true&2013-07-24 10:57:13\\ [1ex] \hline
129&\texttt{reading(a1,cell(5.0,5.0),0.0,0.0)}&true&2013-07-24 10:57:13\\ [1ex] \hline
130&\texttt{time(32.0)}&true&2013-07-24 10:57:14\\ [1ex] \hline
131&\texttt{time(33.0)}&true&2013-07-24 10:57:15\\ [1ex] \hline
132&\texttt{time(34.0)}&true&2013-07-24 10:57:16\\ [1ex] \hline
133&\texttt{time(35.0)}&true&2013-07-24 10:57:17\\ [1ex] \hline
134&\texttt{time(36.0)}&true&2013-07-24 10:57:18\\ [1ex] \hline
135&\texttt{time(37.0)}&true&2013-07-24 10:57:19\\ [1ex] \hline
136&\texttt{time(38.0)}&true&2013-07-24 10:57:20\\ [1ex] \hline
137&\texttt{time(39.0)}&true&2013-07-24 10:57:21\\ [1ex] \hline
138&\texttt{time(40.0)}&true&2013-07-24 10:57:22\\ [1ex] \hline
139&\texttt{time(41.0)}&true&2013-07-24 10:57:23\\ [1ex] \hline
140&\texttt{time(42.0)}&true&2013-07-24 10:57:24\\ [1ex] \hline
141&\texttt{time(43.0)}&true&2013-07-24 10:57:25\\ [1ex] \hline
142&\texttt{time(44.0)}&true&2013-07-24 10:57:26\\ [1ex] \hline
143&\texttt{time(45.0)}&true&2013-07-24 10:57:27\\ [1ex] \hline
144&\texttt{time(46.0)}&true&2013-07-24 10:57:28\\ [1ex] \hline
145&\texttt{time(47.0)}&true&2013-07-24 10:57:29\\ [1ex] \hline
146&\texttt{time(48.0)}&true&2013-07-24 10:57:30\\ [1ex] \hline
147&\texttt{time(49.0)}&true&2013-07-24 10:57:31\\ [1ex] \hline
148&\texttt{time(50.0)}&true&2013-07-24 10:57:32\\ [1ex] \hline
149&\texttt{time(51.0)}&true&2013-07-24 10:57:33\\ [1ex] \hline
150&\texttt{time(52.0)}&true&2013-07-24 10:57:34\\ [1ex] \hline
151&\texttt{time(53.0)}&true&2013-07-24 10:57:35\\ [1ex] \hline
152&\texttt{time(54.0)}&true&2013-07-24 10:57:36\\ [1ex] \hline
153&\texttt{time(55.0)}&true&2013-07-24 10:57:37\\ [1ex] \hline
154&\texttt{time(56.0)}&true&2013-07-24 10:57:38\\ [1ex] \hline
155&\texttt{time(57.0)}&true&2013-07-24 10:57:39\\ [1ex] \hline
156&\texttt{time(58.0)}&true&2013-07-24 10:57:40\\ [1ex] \hline
157&\texttt{time(59.0)}&true&2013-07-24 10:57:41\\ [1ex] \hline
158&\texttt{time(60.0)}&true&2013-07-24 10:57:42\\ [1ex] \hline
159&\texttt{time(61.0)}&true&2013-07-24 10:57:43\\ [1ex] \hline
160&\texttt{time(62.0)}&true&2013-07-24 10:57:44\\ [1ex] \hline
161&\texttt{time(63.0)}&true&2013-07-24 10:57:45\\ [1ex] \hline
162&\texttt{time(64.0)}&true&2013-07-24 10:57:46\\ [1ex] \hline
163&\texttt{time(65.0)}&true&2013-07-24 10:57:47\\ [1ex] \hline
164&\texttt{time(66.0)}&true&2013-07-24 10:57:48\\ [1ex] \hline
165&\texttt{time(67.0)}&true&2013-07-24 10:57:49\\ [1ex] \hline
\end{tabular}
\caption{Event history}
\label{events}  
\end{table}

\section{Network traffic}

\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Content} & \textbf{Sender} & \textbf{Date} \\ [0.5ex] 
\hline
\end{tabular}
\caption{Event history}
\label{events}  
\end{table}

\section{Prolog states}
\clearpage 
\subsection{Prolog state 0}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
0&\texttt{time(1.0)}&true&2013-07-24 10:56:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 1}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
1&\texttt{time(2.0)}&true&2013-07-24 10:56:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 2}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
2&\texttt{time(3.0)}&true&2013-07-24 10:56:45\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 3}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
3&\texttt{time(4.0)}&true&2013-07-24 10:56:46\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 4}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
4&\texttt{time(5.0)}&true&2013-07-24 10:56:47\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 5}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
5&\texttt{time(6.0)}&true&2013-07-24 10:56:48\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 6}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
6&\texttt{time(7.0)}&true&2013-07-24 10:56:49\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 7}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
7&\texttt{time(8.0)}&true&2013-07-24 10:56:50\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 8}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
8&\texttt{cargo(cell(19.0,19.0),7.0)}&true&2013-07-24 10:56:50\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 9}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
9&\texttt{coin(cell(8.0,6.0),7.0,a1)}&true&2013-07-24 10:56:50\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 10}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
10&\texttt{position(a1,cell(3.0,4.0),7.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 11}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
11&\texttt{position(a2,cell(7.0,19.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 12}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
12&\texttt{position(a3,cell(11.0,2.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 13}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
13&\texttt{coin(cell(16.0,16.0),8.0,a2)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 14}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
14&\texttt{time(9.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 15}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
15&\texttt{position(t1,cell(18.0,19.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 16}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
16&\texttt{position(a1,cell(3.0,5.0),8.0)}&true&2013-07-24 10:56:51\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 17}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
17&\texttt{position(a2,cell(6.0,19.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 18}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
18&\texttt{position(a3,cell(11.0,3.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 19}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
19&\texttt{coin(cell(2.0,2.0),9.0,a3)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 20}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
20&\texttt{position(t1,cell(17.0,19.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 21}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
21&\texttt{position(a1,cell(4.0,5.0),9.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 22}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
22&\texttt{time(10.0)}&true&2013-07-24 10:56:52\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 23}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
23&\texttt{position(a2,cell(5.0,19.0),9.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 24}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
24&\texttt{position(t1,cell(16.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 25}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
25&\texttt{position(a3,cell(11.0,4.0),9.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 26}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
26&\texttt{position(a1,cell(5.0,5.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 27}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
27&\texttt{position(a2,cell(4.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 28}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
28&\texttt{position(a3,cell(11.0,5.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 29}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
29&\texttt{time(11.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 30}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
30&\texttt{position(t1,cell(15.0,19.0),10.0)}&true&2013-07-24 10:56:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 31}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
31&\texttt{position(a2,cell(3.0,19.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 32}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
32&\texttt{position(a3,cell(11.0,6.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 33}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
33&\texttt{position(t1,cell(14.0,19.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 34}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
34&\texttt{time(12.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 35}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
35&\texttt{position(a1,cell(5.0,6.0),11.0)}&true&2013-07-24 10:56:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 36}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
36&\texttt{position(a3,cell(11.0,7.0),11.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 37}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
37&\texttt{position(a2,cell(3.0,18.0),11.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 38}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
38&\texttt{position(t1,cell(13.0,19.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 39}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
39&\texttt{position(a1,cell(5.0,7.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 40}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
40&\texttt{time(13.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 41}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
41&\texttt{position(a3,cell(11.0,8.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 42}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
42&\texttt{position(a2,cell(3.0,17.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 43}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
43&\texttt{position(t1,cell(12.0,19.0),12.0)}&true&2013-07-24 10:56:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 44}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
44&\texttt{position(a1,cell(5.0,8.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 45}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
45&\texttt{position(a3,cell(11.0,9.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 46}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
46&\texttt{position(a2,cell(3.0,16.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 47}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
47&\texttt{position(t1,cell(11.0,19.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 48}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
48&\texttt{time(14.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 49}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
49&\texttt{position(a1,cell(5.0,9.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 50}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
50&\texttt{position(a3,cell(11.0,10.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 51}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
51&\texttt{position(a2,cell(3.0,15.0),13.0)}&true&2013-07-24 10:56:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 52}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
52&\texttt{position(t1,cell(10.0,19.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 53}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
53&\texttt{position(a1,cell(5.0,10.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 54}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
54&\texttt{position(a3,cell(11.0,11.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 55}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
55&\texttt{position(a2,cell(3.0,14.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 56}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
56&\texttt{time(15.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 57}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
57&\texttt{position(t1,cell(9.0,19.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 58}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
58&\texttt{position(a1,cell(6.0,10.0),14.0)}&true&2013-07-24 10:56:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 59}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
59&\texttt{position(a3,cell(11.0,12.0),14.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 60}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
60&\texttt{position(a2,cell(3.0,13.0),14.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 61}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
61&\texttt{position(t1,cell(8.0,19.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 62}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
62&\texttt{position(a1,cell(7.0,10.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 63}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
63&\texttt{position(a3,cell(11.0,13.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 64}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
64&\texttt{position(a2,cell(3.0,12.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 65}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
65&\texttt{time(16.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 66}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
66&\texttt{position(t1,cell(7.0,19.0),15.0)}&true&2013-07-24 10:56:58\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 67}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
67&\texttt{position(a1,cell(8.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 68}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
68&\texttt{position(a3,cell(11.0,14.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 69}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
69&\texttt{position(a2,cell(3.0,11.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 70}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
70&\texttt{position(t1,cell(6.0,19.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 71}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
71&\texttt{position(a1,cell(9.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 72}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
72&\texttt{time(17.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 73}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
73&\texttt{position(a3,cell(11.0,15.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 74}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
74&\texttt{position(a2,cell(3.0,10.0),16.0)}&true&2013-07-24 10:56:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 75}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
75&\texttt{position(t1,cell(5.0,19.0),16.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 76}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
76&\texttt{position(a1,cell(10.0,10.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 77}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
77&\texttt{position(a3,cell(11.0,16.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 78}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
78&\texttt{position(a2,cell(3.0,9.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 79}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
79&\texttt{position(t1,cell(4.0,19.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 80}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
80&\texttt{time(18.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 81}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
81&\texttt{position(a3,cell(11.0,17.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 82}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
82&\texttt{position(a2,cell(3.0,8.0),17.0)}&true&2013-07-24 10:57:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 83}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
83&\texttt{position(t1,cell(3.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 84}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
84&\texttt{position(a3,cell(11.0,18.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 85}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
85&\texttt{position(a2,cell(3.0,7.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 86}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
86&\texttt{position(t1,cell(2.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 87}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
87&\texttt{time(19.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 88}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
88&\texttt{position(a3,cell(11.0,19.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 89}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
89&\texttt{position(a2,cell(3.0,6.0),18.0)}&true&2013-07-24 10:57:01\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 90}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
90&\texttt{position(t1,cell(2.0,18.0),18.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 91}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
91&\texttt{position(a3,cell(12.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 92}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
92&\texttt{position(t1,cell(2.0,17.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 93}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
93&\texttt{position(a3,cell(13.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 94}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
94&\texttt{position(t1,cell(2.0,16.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 95}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
95&\texttt{time(20.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 96}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
96&\texttt{position(a3,cell(14.0,19.0),19.0)}&true&2013-07-24 10:57:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 97}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
97&\texttt{position(t1,cell(2.0,15.0),19.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 98}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
98&\texttt{position(a3,cell(15.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 99}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
99&\texttt{position(t1,cell(2.0,14.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 100}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
100&\texttt{position(a3,cell(16.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 101}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
101&\texttt{position(t1,cell(2.0,13.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 102}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
102&\texttt{position(a3,cell(17.0,19.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 103}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
103&\texttt{time(21.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 104}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
104&\texttt{position(t1,cell(2.0,12.0),20.0)}&true&2013-07-24 10:57:03\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 105}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
105&\texttt{position(a3,cell(18.0,19.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 106}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
106&\texttt{position(t1,cell(2.0,11.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 107}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
107&\texttt{position(a3,cell(19.0,19.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 108}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
108&\texttt{position(t1,cell(2.0,10.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 109}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
109&\texttt{position(t1,cell(2.0,9.0),21.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 110}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
110&\texttt{time(22.0)}&true&2013-07-24 10:57:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 111}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
111&\texttt{position(t1,cell(2.0,8.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 112}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
112&\texttt{position(t1,cell(2.0,7.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 113}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
113&\texttt{position(t1,cell(2.0,6.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 114}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
114&\texttt{position(t1,cell(2.0,5.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 115}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
115&\texttt{position(t1,cell(2.0,4.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 116}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
116&\texttt{time(23.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 117}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
117&\texttt{position(t1,cell(2.0,3.0),22.0)}&true&2013-07-24 10:57:05\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 118}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
118&\texttt{position(t1,cell(2.0,2.0),23.0)}&true&2013-07-24 10:57:06\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 119}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
119&\texttt{time(24.0)}&true&2013-07-24 10:57:06\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 120}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
120&\texttt{time(25.0)}&true&2013-07-24 10:57:07\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 121}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
121&\texttt{time(26.0)}&true&2013-07-24 10:57:08\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 122}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
122&\texttt{time(27.0)}&true&2013-07-24 10:57:09\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 123}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
123&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 124}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
124&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 125}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
125&\texttt{time(28.0)}&true&2013-07-24 10:57:10\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 126}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
126&\texttt{time(29.0)}&true&2013-07-24 10:57:11\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 127}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
127&\texttt{time(30.0)}&true&2013-07-24 10:57:12\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 128}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
128&\texttt{time(31.0)}&true&2013-07-24 10:57:13\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 129}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
129&\texttt{reading(a1,cell(5.0,5.0),0.0,0.0)}&true&2013-07-24 10:57:13\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 130}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
130&\texttt{time(32.0)}&true&2013-07-24 10:57:14\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 131}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
131&\texttt{time(33.0)}&true&2013-07-24 10:57:15\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 132}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
132&\texttt{time(34.0)}&true&2013-07-24 10:57:16\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 133}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
133&\texttt{time(35.0)}&true&2013-07-24 10:57:17\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 134}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
134&\texttt{time(36.0)}&true&2013-07-24 10:57:18\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 135}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
135&\texttt{time(37.0)}&true&2013-07-24 10:57:19\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 136}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
136&\texttt{time(38.0)}&true&2013-07-24 10:57:20\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 137}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
137&\texttt{time(39.0)}&true&2013-07-24 10:57:21\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 138}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
138&\texttt{time(40.0)}&true&2013-07-24 10:57:22\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 139}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
139&\texttt{time(41.0)}&true&2013-07-24 10:57:23\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 140}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
140&\texttt{time(42.0)}&true&2013-07-24 10:57:24\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 141}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
141&\texttt{time(43.0)}&true&2013-07-24 10:57:25\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 142}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
142&\texttt{time(44.0)}&true&2013-07-24 10:57:26\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 143}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
143&\texttt{time(45.0)}&true&2013-07-24 10:57:27\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 144}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
144&\texttt{time(46.0)}&true&2013-07-24 10:57:28\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 145}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
145&\texttt{time(47.0)}&true&2013-07-24 10:57:29\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 146}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
146&\texttt{time(48.0)}&true&2013-07-24 10:57:30\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 147}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
147&\texttt{time(49.0)}&true&2013-07-24 10:57:31\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 148}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
148&\texttt{time(50.0)}&true&2013-07-24 10:57:32\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 149}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
149&\texttt{time(51.0)}&true&2013-07-24 10:57:33\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 150}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
150&\texttt{time(52.0)}&true&2013-07-24 10:57:34\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 151}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
151&\texttt{time(53.0)}&true&2013-07-24 10:57:35\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 152}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
152&\texttt{time(54.0)}&true&2013-07-24 10:57:36\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 153}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
153&\texttt{time(55.0)}&true&2013-07-24 10:57:37\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 154}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
154&\texttt{time(56.0)}&true&2013-07-24 10:57:38\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 155}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
155&\texttt{time(57.0)}&true&2013-07-24 10:57:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 156}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
156&\texttt{time(58.0)}&true&2013-07-24 10:57:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 157}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
157&\texttt{time(59.0)}&true&2013-07-24 10:57:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 158}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
158&\texttt{time(60.0)}&true&2013-07-24 10:57:42\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 159}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
159&\texttt{time(61.0)}&true&2013-07-24 10:57:43\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 160}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
160&\texttt{time(62.0)}&true&2013-07-24 10:57:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 161}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
161&\texttt{time(63.0)}&true&2013-07-24 10:57:45\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 162}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
162&\texttt{time(64.0)}&true&2013-07-24 10:57:46\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 163}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
163&\texttt{time(65.0)}&true&2013-07-24 10:57:47\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 164}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
164&\texttt{time(66.0)}&true&2013-07-24 10:57:48\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}
\clearpage 
\subsection{Prolog state 165}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
165&\texttt{time(67.0)}&true&2013-07-24 10:57:49\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @update
% @update/3:
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[min(at(A,B,C)),plus(at(D,E,C))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(now),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C,D),time_since(E),>(E,5.0)),obligation([cargo(E)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),time_since(B),int(B),agent(C)),obligation([coin(C)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: notifyAgent
% notifyAgent/2:
notifyAgent(A,B) :- @external(geoSenseMW,notifyAgent(A,B),C).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(5.0,5.0)
water(5.0,6.0)
water(6.0,5.0)
water(6.0,6.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B),notifyAgent(A,changed(status))),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

\end{lstlisting}

\end{document}
