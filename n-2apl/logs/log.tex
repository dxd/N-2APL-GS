\documentclass[11pt]{article}\usepackage[utf8]{inputenc}\usepackage{geometry}
\geometry{a4paper}\usepackage{graphicx} \usepackage{booktabs}
\usepackage{array}
\usepackage{paralist}
\usepackage{verbatim}

\usepackage{listings} 
\usepackage{subfig}
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape}
\usepackage[nottoc,notlof,notlot]{tocbibind}
\usepackage[titles,subfigure]{tocloft} 
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape}
\usepackage{hyperref} 
\title{2OPL Organization log}
\author{2OPL interpreter}
\begin{document}
\maketitle
\tableofcontents

\section{Event history}

\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
0&\texttt{cargo(cell(19.0,19.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline
1&\texttt{coin(cell(8.0,6.0),0.0,a1)}&true&2014-03-17 19:25:49\\ [1ex] \hline
2&\texttt{position(a2,cell(7.0,19.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline
3&\texttt{position(a1,cell(3.0,4.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline
4&\texttt{position(a3,cell(11.0,2.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline
5&\texttt{coin(cell(16.0,16.0),0.0,a2)}&true&2014-03-17 19:25:50\\ [1ex] \hline
6&\texttt{position(t1,cell(18.0,19.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline
7&\texttt{position(a2,cell(6.0,19.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline
8&\texttt{position(a1,cell(3.0,5.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline
9&\texttt{position(a3,cell(11.0,3.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline
10&\texttt{coin(cell(2.0,2.0),0.0,a3)}&true&2014-03-17 19:25:51\\ [1ex] \hline
11&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline
12&\texttt{position(a2,cell(6.0,18.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline
13&\texttt{position(a1,cell(4.0,5.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline
14&\texttt{position(a3,cell(11.0,4.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline
15&\texttt{position(t1,cell(16.0,19.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline
16&\texttt{position(a2,cell(6.0,17.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline
17&\texttt{position(a1,cell(5.0,5.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline
18&\texttt{position(a3,cell(11.0,5.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline
19&\texttt{position(t1,cell(15.0,19.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline
20&\texttt{position(a2,cell(6.0,16.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline
21&\texttt{position(a3,cell(11.0,6.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline
22&\texttt{position(t1,cell(14.0,19.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline
23&\texttt{position(a2,cell(6.0,15.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline
24&\texttt{position(a1,cell(5.0,6.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline
25&\texttt{position(a3,cell(11.0,7.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline
26&\texttt{position(t1,cell(13.0,19.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
27&\texttt{position(a2,cell(6.0,14.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
28&\texttt{position(a1,cell(6.0,6.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
29&\texttt{position(a3,cell(11.0,8.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
30&\texttt{position(t1,cell(12.0,19.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
31&\texttt{position(a2,cell(6.0,13.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
32&\texttt{position(a3,cell(11.0,9.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline
33&\texttt{position(t1,cell(11.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
34&\texttt{position(a2,cell(6.0,12.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
35&\texttt{position(a3,cell(11.0,10.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
36&\texttt{position(t1,cell(10.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
37&\texttt{position(a2,cell(6.0,11.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
38&\texttt{position(a3,cell(11.0,11.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
39&\texttt{position(t1,cell(9.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
40&\texttt{position(a2,cell(6.0,10.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
41&\texttt{position(a3,cell(11.0,12.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline
42&\texttt{position(t1,cell(8.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
43&\texttt{position(a2,cell(6.0,9.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
44&\texttt{position(a3,cell(11.0,13.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
45&\texttt{position(t1,cell(7.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
46&\texttt{position(a2,cell(6.0,8.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
47&\texttt{position(a3,cell(11.0,14.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
48&\texttt{position(t1,cell(6.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
49&\texttt{position(a2,cell(6.0,7.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline
50&\texttt{position(a3,cell(11.0,15.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
51&\texttt{position(t1,cell(5.0,19.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
52&\texttt{position(a2,cell(6.0,6.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
53&\texttt{position(a3,cell(11.0,16.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
54&\texttt{position(t1,cell(4.0,19.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
55&\texttt{position(a3,cell(11.0,17.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline
56&\texttt{position(t1,cell(3.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
57&\texttt{position(a3,cell(11.0,18.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
58&\texttt{position(t1,cell(2.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
59&\texttt{position(a3,cell(11.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
60&\texttt{position(t1,cell(2.0,18.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
61&\texttt{position(a3,cell(12.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
62&\texttt{position(t1,cell(2.0,17.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline
63&\texttt{position(a3,cell(13.0,19.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline
64&\texttt{position(t1,cell(2.0,16.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline
65&\texttt{position(a3,cell(14.0,19.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline
66&\texttt{position(t1,cell(2.0,15.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline
67&\texttt{position(a3,cell(15.0,19.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline
68&\texttt{position(t1,cell(2.0,14.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline
69&\texttt{position(a3,cell(16.0,19.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline
70&\texttt{position(t1,cell(2.0,13.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline
71&\texttt{position(a3,cell(17.0,19.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline
72&\texttt{position(t1,cell(2.0,12.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline
73&\texttt{position(a3,cell(18.0,19.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline
74&\texttt{position(t1,cell(2.0,11.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline
75&\texttt{position(a3,cell(19.0,19.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
76&\texttt{position(t1,cell(2.0,10.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
77&\texttt{position(t1,cell(2.0,9.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
78&\texttt{position(t1,cell(2.0,8.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
79&\texttt{position(t1,cell(2.0,7.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
80&\texttt{position(t1,cell(2.0,6.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline
81&\texttt{position(t1,cell(2.0,5.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline
82&\texttt{position(t1,cell(2.0,4.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline
83&\texttt{position(t1,cell(2.0,3.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline
84&\texttt{position(t1,cell(2.0,2.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline
=======
0&\texttt{coin(cell(8.0,6.0),0.0,a1)}&true&2013-12-04 16:46:37\\ [1ex] \hline
1&\texttt{position(a1,cell(15.0,15.0),0.0)}&true&2013-12-04 16:46:37\\ [1ex] \hline
2&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
3&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
4&\texttt{time(153.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
5&\texttt{position(a3,cell(11.0,2.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
6&\texttt{position(a2,cell(7.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
7&\texttt{position(a3,cell(11.0,3.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
8&\texttt{time(154.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
9&\texttt{position(t1,cell(16.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline
10&\texttt{position(a1,cell(15.0,16.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
11&\texttt{coin(cell(16.0,16.0),0.0,a2)}&true&2013-12-04 16:46:39\\ [1ex] \hline
12&\texttt{position(a1,cell(16.0,16.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
13&\texttt{position(t1,cell(15.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
14&\texttt{time(155.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
15&\texttt{position(a3,cell(11.0,4.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
16&\texttt{position(a2,cell(6.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
17&\texttt{time(156.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
18&\texttt{position(t1,cell(14.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
19&\texttt{position(a1,cell(16.0,15.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
20&\texttt{coin(cell(2.0,2.0),0.0,a3)}&true&2013-12-04 16:46:39\\ [1ex] \hline
21&\texttt{position(t1,cell(13.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
22&\texttt{time(157.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
23&\texttt{position(a3,cell(11.0,5.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
24&\texttt{position(a2,cell(6.0,18.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
25&\texttt{position(a3,cell(11.0,6.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
26&\texttt{time(158.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
27&\texttt{position(t1,cell(12.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
28&\texttt{time(159.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
29&\texttt{position(a3,cell(11.0,7.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
30&\texttt{position(a2,cell(6.0,17.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
31&\texttt{position(a3,cell(11.0,8.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline
32&\texttt{time(160.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
33&\texttt{position(t1,cell(11.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
34&\texttt{time(161.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
35&\texttt{position(a3,cell(11.0,9.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
36&\texttt{position(a2,cell(6.0,16.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
37&\texttt{position(a3,cell(11.0,10.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
38&\texttt{time(162.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
39&\texttt{position(t1,cell(10.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
40&\texttt{time(163.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
41&\texttt{position(a3,cell(11.0,11.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
42&\texttt{position(a2,cell(6.0,15.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
43&\texttt{position(a3,cell(11.0,12.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
44&\texttt{position(t1,cell(9.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
45&\texttt{position(a2,cell(6.0,14.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
46&\texttt{position(t1,cell(8.0,19.0),160.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
47&\texttt{position(a2,cell(6.0,13.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
48&\texttt{position(a2,cell(6.0,12.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
49&\texttt{position(a2,cell(6.0,11.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
50&\texttt{position(a2,cell(6.0,10.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
51&\texttt{position(a2,cell(6.0,9.0),161.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
52&\texttt{time(164.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline
53&\texttt{position(a3,cell(11.0,13.0),163.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline
54&\texttt{position(t1,cell(7.0,19.0),163.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline
55&\texttt{position(a2,cell(6.0,8.0),164.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline
56&\texttt{time(165.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline
57&\texttt{position(a3,cell(11.0,14.0),164.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline
58&\texttt{position(t1,cell(6.0,19.0),164.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline
59&\texttt{position(a2,cell(6.0,7.0),165.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline
60&\texttt{time(166.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline
61&\texttt{position(a3,cell(11.0,15.0),165.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline
62&\texttt{position(t1,cell(5.0,19.0),166.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline
63&\texttt{time(167.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline
64&\texttt{position(a2,cell(6.0,6.0),166.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline
65&\texttt{position(a3,cell(11.0,16.0),166.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline
66&\texttt{position(t1,cell(4.0,19.0),167.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline
67&\texttt{time(168.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline
68&\texttt{position(a3,cell(11.0,17.0),167.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline
69&\texttt{position(t1,cell(3.0,19.0),167.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline
70&\texttt{time(169.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline
71&\texttt{position(a3,cell(11.0,18.0),168.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline
72&\texttt{position(t1,cell(2.0,19.0),168.0)}&true&2013-12-04 16:46:46\\ [1ex] \hline
73&\texttt{time(170.0)}&true&2013-12-04 16:46:46\\ [1ex] \hline
74&\texttt{position(a3,cell(11.0,19.0),169.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline
75&\texttt{position(t1,cell(2.0,18.0),169.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline
76&\texttt{time(171.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline
77&\texttt{position(a3,cell(12.0,19.0),170.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline
78&\texttt{position(t1,cell(2.0,17.0),170.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline
79&\texttt{position(a3,cell(13.0,19.0),171.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline
80&\texttt{time(172.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline
81&\texttt{position(t1,cell(2.0,16.0),171.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline
82&\texttt{position(a3,cell(14.0,19.0),172.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline
83&\texttt{time(173.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline
84&\texttt{position(t1,cell(2.0,15.0),172.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline
85&\texttt{position(a3,cell(15.0,19.0),173.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline
86&\texttt{time(174.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline
87&\texttt{position(t1,cell(2.0,14.0),173.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline
88&\texttt{position(a3,cell(16.0,19.0),174.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline
89&\texttt{time(175.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline
90&\texttt{position(t1,cell(2.0,13.0),174.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline
91&\texttt{position(a3,cell(17.0,19.0),175.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline
92&\texttt{position(t1,cell(2.0,12.0),175.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline
93&\texttt{time(176.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline
94&\texttt{position(a3,cell(18.0,19.0),175.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline
95&\texttt{position(t1,cell(2.0,11.0),176.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline
96&\texttt{time(177.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline
97&\texttt{position(a3,cell(19.0,19.0),176.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline
98&\texttt{position(t1,cell(2.0,10.0),176.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline
99&\texttt{position(t1,cell(2.0,9.0),177.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline
100&\texttt{time(178.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline
101&\texttt{position(t1,cell(2.0,8.0),178.0)}&true&2013-12-04 16:46:55\\ [1ex] \hline
102&\texttt{time(179.0)}&true&2013-12-04 16:46:55\\ [1ex] \hline
103&\texttt{position(t1,cell(2.0,7.0),178.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline
104&\texttt{position(t1,cell(2.0,6.0),179.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline
105&\texttt{time(180.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline
106&\texttt{reading(a1,cell(16.0,15.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
107&\texttt{reading(a1,cell(16.0,15.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
108&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
109&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
110&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
111&\texttt{position(t1,cell(2.0,5.0),179.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
112&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
113&\texttt{time(181.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline
114&\texttt{position(t1,cell(2.0,4.0),180.0)}&true&2013-12-04 16:46:58\\ [1ex] \hline
115&\texttt{time(182.0)}&true&2013-12-04 16:46:58\\ [1ex] \hline
116&\texttt{position(t1,cell(2.0,3.0),181.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline
117&\texttt{position(t1,cell(2.0,2.0),182.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline
118&\texttt{time(183.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline
119&\texttt{time(184.0)}&true&2013-12-04 16:47:00\\ [1ex] \hline
120&\texttt{time(185.0)}&true&2013-12-04 16:47:01\\ [1ex] \hline
121&\texttt{time(186.0)}&true&2013-12-04 16:47:02\\ [1ex] \hline
122&\texttt{time(187.0)}&true&2013-12-04 16:47:03\\ [1ex] \hline
123&\texttt{time(188.0)}&true&2013-12-04 16:47:04\\ [1ex] \hline
124&\texttt{time(189.0)}&true&2013-12-04 16:47:05\\ [1ex] \hline
125&\texttt{time(190.0)}&true&2013-12-04 16:47:06\\ [1ex] \hline
126&\texttt{time(191.0)}&true&2013-12-04 16:47:07\\ [1ex] \hline
127&\texttt{time(192.0)}&true&2013-12-04 16:47:08\\ [1ex] \hline
128&\texttt{time(193.0)}&true&2013-12-04 16:47:09\\ [1ex] \hline
129&\texttt{time(194.0)}&true&2013-12-04 16:47:10\\ [1ex] \hline
130&\texttt{time(195.0)}&true&2013-12-04 16:47:11\\ [1ex] \hline
131&\texttt{time(196.0)}&true&2013-12-04 16:47:12\\ [1ex] \hline
132&\texttt{time(197.0)}&true&2013-12-04 16:47:13\\ [1ex] \hline
133&\texttt{time(198.0)}&true&2013-12-04 16:47:14\\ [1ex] \hline
134&\texttt{time(199.0)}&true&2013-12-04 16:47:15\\ [1ex] \hline
135&\texttt{time(200.0)}&true&2013-12-04 16:47:16\\ [1ex] \hline
136&\texttt{time(201.0)}&true&2013-12-04 16:47:17\\ [1ex] \hline
137&\texttt{time(202.0)}&true&2013-12-04 16:47:18\\ [1ex] \hline
138&\texttt{time(203.0)}&true&2013-12-04 16:47:19\\ [1ex] \hline
139&\texttt{time(204.0)}&true&2013-12-04 16:47:20\\ [1ex] \hline
140&\texttt{time(205.0)}&true&2013-12-04 16:47:21\\ [1ex] \hline
>>>>>>> trunk
\end{tabular}
\caption{Event history}
\label{events}  
\end{table}

\section{Network traffic}

\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Content} & \textbf{Sender} & \textbf{Date} \\ [0.5ex] 
\hline
\end{tabular}
\caption{Event history}
\label{events}  
\end{table}

\section{Prolog states}
\clearpage 
\subsection{Prolog state 0}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
0&\texttt{cargo(cell(19.0,19.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline\end{tabular}
=======
0&\texttt{coin(cell(8.0,6.0),0.0,a1)}&true&2013-12-04 16:46:37\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
% at/4:
at(15.0,15.0,a1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(C),>(C,0.0),<(C,;(20.0,:(area(C,D),-(int(C))))),int(D),>(C,0.0),>(D,0.0),<(C,21.0),<(D,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 1}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
1&\texttt{coin(cell(8.0,6.0),0.0,a1)}&true&2014-03-17 19:25:49\\ [1ex] \hline\end{tabular}
=======
1&\texttt{position(a1,cell(15.0,15.0),0.0)}&true&2013-12-04 16:46:37\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 2}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
2&\texttt{position(a2,cell(7.0,19.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline\end{tabular}
=======
2&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
% at/4:
at(7.0,19.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 3}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
3&\texttt{position(a1,cell(3.0,4.0),0.0)}&true&2014-03-17 19:25:49\\ [1ex] \hline\end{tabular}
=======
3&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
>>>>>>> trunk

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

<<<<<<< HEAD
% Rules with string id: controller
% controller/1:
controller(c1)

=======
>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 4}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
4&\texttt{position(a3,cell(11.0,2.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline\end{tabular}
=======
4&\texttt{time(153.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(B),water(C,D)),prohibition([at(C,D,B)|[]],[reduce(B,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 5}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
5&\texttt{coin(cell(16.0,16.0),0.0,a2)}&true&2014-03-17 19:25:50\\ [1ex] \hline\end{tabular}
=======
5&\texttt{position(a3,cell(11.0,2.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(D,E,F)|[]],[reduce(F,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 6}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
6&\texttt{position(t1,cell(18.0,19.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline\end{tabular}
=======
6&\texttt{position(a2,cell(7.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(G,H,I)|[]],[reduce(I,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 7}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
7&\texttt{position(a2,cell(6.0,19.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline\end{tabular}
=======
7&\texttt{position(a3,cell(11.0,3.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 8}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
8&\texttt{position(a1,cell(3.0,5.0),0.0)}&true&2014-03-17 19:25:50\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),L),false,(listTrue(M)),(time_past(N)),false,[plus(viol(agent_directed(O,P,obligation(Q,R,S))))|[]],[plus(obey(agent_directed(T,U,obligation(Q,R,S))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(F)),false,(false),false,[plus(viol(agent_directed(G,H,prohibition(F,I))))|[]],[plus(obey(agent_directed(G,H,prohibition(F,I))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(E,F,prohibition(G,H))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),remove)

























@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)











% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,E)),H),false,(listTrue(I)),(time_past(J)),false,[plus(viol(agent_directed(F,G,obligation(I,J,E))))|[]],[plus(obey(agent_directed(F,G,obligation(I,J,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(F,G,prohibition(H,I))))|[]],[plus(obey(agent_directed(F,G,prohibition(H,I))))|[]])
>>>>>>> trunk
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 9}
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 8}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
9&\texttt{position(a3,cell(11.0,3.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline\end{tabular}
=======
8&\texttt{time(154.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: viol
% viol/1:
viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])))
viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])))
viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])))
viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])))

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)















































@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 10}
=======
\subsection{Prolog state 9}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
10&\texttt{coin(cell(2.0,2.0),0.0,a3)}&true&2014-03-17 19:25:51\\ [1ex] \hline\end{tabular}
=======
9&\texttt{position(t1,cell(16.0,19.0),0.0)}&true&2013-12-04 16:46:38\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),L),false,(listTrue(M)),(time_past(N)),false,[plus(viol(agent_directed(O,P,obligation(M,N,Q))))|[]],[plus(obey(agent_directed(O,P,obligation(R,S,T))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(E,F,G,prohibition(H,I)),G),(listTrue(J)),false,(false),false,[plus(viol(agent_directed(K,L,prohibition(M,N))))|[]],[plus(obey(agent_directed(K,L,prohibition(M,N))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(C,D)),true,false,false,false,[min(reduce(E,F))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,E,prohibition(F,G))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(D,E,F)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),remove)
























@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
>>>>>>> trunk

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 11}
=======
\subsection{Prolog state 10}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
11&\texttt{position(t1,cell(17.0,19.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline\end{tabular}
=======
10&\texttt{position(a1,cell(15.0,16.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(A,B)),prohibition([at(A,B,C)|[]],[reduce(C,300.0)|[]]))
norm(game_area(B),B,(truck(B),not_area(C,D)),prohibition([at(C,D,B)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(E,F)),prohibition([cargo(E,F)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(A,1.0)), is (B,+(C,1.0)),gameArea(A,B)),prohibition([coin(A,B)|[]],[reduce(C,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(A,B,C)|[]],[reduce(D,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(A)),obligation([coin(A)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(A,B,C)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(A,B)),obligation([makeReading(A,B)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(E,400.0)|[]]))

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,C) :- ;(reading(A,C,D,F,G),:(makeGroupReading(A,C), is (-(H),+(A,1.0)))), is (B,+(D,1.0)), is (F,-(G,1.0)), is (J,-(K,1.0)),makeReading(M,K),makeReading(F,K),makeReading(G,B),makeReading(G,J).

% Rules with string id: movable
% movable/1:
movable(B) :- agent(B).
movable(B) :- truck(B).
>>>>>>> trunk

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

<<<<<<< HEAD
% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(A),>(A,B).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(A),>(B,A).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
<<<<<<< HEAD
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
do_sanction([not(A)|A]) :- retract(D),do_sanction(A).
do_sanction([B|D]) :- uniqueassertz(B),do_sanction(D).
do_sanction([])

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
<<<<<<< HEAD
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
=======
@scheme(agent_directed(A,B,prohibition(A,B)),(@countsas,norm(C,D,E,prohibition(A,B)),E),(listTrue(A)),false,(false),false,[plus(viol(agent_directed(C,D,prohibition(A,B))))|[]],[plus(obey(agent_directed(C,D,prohibition(A,B))))|[]])
>>>>>>> trunk
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
<<<<<<< HEAD
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
=======
@update((true),reading(A,cell(B,C),D,E),[plus(reading(A,B,C,D,E))|[]])
>>>>>>> trunk
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 12}
=======
\subsection{Prolog state 11}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
12&\texttt{position(a2,cell(6.0,18.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline\end{tabular}
=======
11&\texttt{coin(cell(16.0,16.0),0.0,a2)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),H),false,(listTrue(I)),(time_past(J)),false,[plus(viol(agent_directed(L,M,obligation(N,O,P))))|[]],[plus(obey(agent_directed(Q,R,obligation(S,T,U))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(E,F,G,prohibition(H,I)),G),(listTrue(J)),false,(false),false,[plus(viol(agent_directed(K,L,prohibition(M,N))))|[]],[plus(obey(agent_directed(O,P,prohibition(M,N))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,C)),true,false,false,false,[min(reduce(D,E))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(E)),true,false,false,false,[min(viol(agent_directed(F,G,prohibition(H,I))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(D,E,F)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)



































@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
>>>>>>> trunk

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 13}
=======
\subsection{Prolog state 12}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
13&\texttt{position(a1,cell(4.0,5.0),0.0)}&true&2014-03-17 19:25:51\\ [1ex] \hline\end{tabular}
=======
12&\texttt{position(a1,cell(16.0,16.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),L),false,(listTrue(M)),(time_past(N)),false,[plus(viol(agent_directed(O,P,obligation(Q,R,S))))|[]],[plus(obey(agent_directed(T,U,obligation(V,W,X))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(E,F,G,prohibition(C,D)),G),(listTrue(H)),false,(false),false,[plus(viol(agent_directed(I,J,prohibition(K,L))))|[]],[plus(obey(agent_directed(M,N,prohibition(O,P))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(C,D))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(E,F,prohibition(G,H))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(D,E,F)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),remove)

































@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(0.0),(@sanction,reduce(t1,300.0),do_reduce_health(t1,300.0)),keep)
@ni(@imply_rule(0.0),(@sanction,reduce(c1,300.0),do_reduce_health(c1,300.0)),keep)
@ni(@imply_rule(0.0),(@sanction,reduce(a1,300.0),do_reduce_health(a1,300.0)),keep)
@ni(@imply_rule(0.0),(@sanction,reduce(a2,300.0),do_reduce_health(a2,300.0)),keep)
>>>>>>> trunk

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 14}
=======
\subsection{Prolog state 13}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
14&\texttt{position(a3,cell(11.0,4.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline\end{tabular}
=======
13&\texttt{position(t1,cell(15.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(C,D)),prohibition([at(B,C,D)|[]],[reduce(D,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(C,D)),prohibition([at(C,D,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 15}
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),L),false,(listTrue(M)),(time_past(N)),false,[plus(viol(agent_directed(O,P,obligation(Q,R,S))))|[]],[plus(obey(agent_directed(T,U,obligation(V,W,X))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(E,F,G,prohibition(H,I)),J),(listTrue(K)),false,(false),false,[plus(viol(agent_directed(L,M,prohibition(N,O))))|[]],[plus(obey(agent_directed(P,Q,prohibition(R,S))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(C,D)),true,false,false,false,[min(reduce(E,F))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(E,F,prohibition(G,H))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),remove)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),remove)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),remove)



@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)

\end{lstlisting}
\clearpage 
\subsection{Prolog state 14}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
15&\texttt{position(t1,cell(16.0,19.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline\end{tabular}
=======
14&\texttt{time(155.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (B,-(D,1.0)),makeReading(F,D),makeReading(G,D),makeReading(I,J),makeReading(I,B).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(B) :- truck(B).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,A) :- false.

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(B,C) :- points(A,B), is (E,-(F,G)),clock(A),@external(geoSenseMW,write(points(B,A,C),-1.0),A).
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
<<<<<<< HEAD
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
=======
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,A,prohibition(B,C)),A),(listTrue(B)),false,(false),false,[plus(viol(agent_directed(D,E,prohibition(B,C))))|[]],[plus(obey(agent_directed(D,E,prohibition(B,C))))|[]])
>>>>>>> trunk
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
<<<<<<< HEAD
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 16}
=======
@update((reading(A,B,C,D,E)),reading(A,cell(B,C),D,E),[min(reading(B,C,F,A,G)),plus(reading(B,C,D,A,E))|[]])
@update((true),reading(A,cell(A,B),C,D),[plus(reading(A,B,C,E,D))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,B))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 15}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
16&\texttt{position(a2,cell(6.0,17.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline\end{tabular}
=======
15&\texttt{position(a2,cell(6.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,A,B,prohibition(C,D)),B),(listTrue(A)),false,(false),false,[plus(viol(agent_directed(D,E,prohibition(A,A))))|[]],[plus(obey(agent_directed(C,D,prohibition(A,B))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(D,E),do_reduce_health(D,E)),true,false,false,false,[min(reduce(C,E))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(E,B,prohibition(D,F))),do_sanction(F)),true,false,false,false,[min(viol(agent_directed(E,B,prohibition(D,F))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(B,D,F))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 15}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
15&\texttt{position(a3,cell(11.0,4.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(F,G,H,obligation(I,J,K)),L),false,(listTrue(M)),(time_past(N)),false,[plus(viol(agent_directed(O,P,obligation(Q,R,S))))|[]],[plus(obey(agent_directed(T,U,obligation(V,W,X))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(E,F,G,prohibition(H,I)),G),(listTrue(H)),false,(false),false,[plus(viol(agent_directed(J,K,prohibition(L,M))))|[]],[plus(obey(agent_directed(N,O,prohibition(P,Q))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(E)),true,false,false,false,[min(viol(agent_directed(F,G,prohibition(H,I))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(D,E,F)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),remove)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),remove)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),remove)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),remove)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),remove)


























@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(B)),time(C),[min(clock(B)),plus(clock(C))|[]])
@update((true),time(B),[plus(clock(B))|[]])
@update((at(B,D,E)),position(E,cell(A,B),C),[plus(at(A,B,E,C))|[]])
@update((true),position(A,cell(B,C),E),[plus(at(B,C,A,B)),plus(at(C,D,A))|[]])
@update((reading(C,E,G,H,I)),reading(H,cell(C,E),J,K),[min(reading(C,E,G,H,I)),plus(reading(C,E,J,L,B))|[]])
@update((true),reading(A,cell(B,D),F,H),[plus(reading(B,D,F,A,H))|[]])
@update((true),coin(cell(D,E),F,G),[plus(coin(D,E))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)

\end{lstlisting}
\clearpage 
\subsection{Prolog state 17}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
17&\texttt{time(156.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 18}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
18&\texttt{position(t1,cell(14.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 19}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
19&\texttt{position(a1,cell(16.0,15.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 20}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
20&\texttt{coin(cell(2.0,2.0),0.0,a3)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 21}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
21&\texttt{position(t1,cell(13.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 22}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
22&\texttt{time(157.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 23}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
23&\texttt{position(a3,cell(11.0,5.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 24}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
24&\texttt{position(a2,cell(6.0,18.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 25}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
25&\texttt{position(a3,cell(11.0,6.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 26}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
26&\texttt{time(158.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 27}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
27&\texttt{position(t1,cell(12.0,19.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 28}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
28&\texttt{time(159.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 29}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
29&\texttt{position(a3,cell(11.0,7.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 30}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
30&\texttt{position(a2,cell(6.0,17.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (C,20.0),int(D),>(D,0.0),<(D,;(20.0,:(not_area(C,D), is (-(D),20.0)))),int(C),>(C,0.0),<(C,;(20.0,:(area(C,D),-(int(C))))),int(D),>(C,0.0),>(D,0.0),<(C,21.0),<(D,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 31}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
31&\texttt{position(a3,cell(11.0,8.0),0.0)}&true&2013-12-04 16:46:39\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(C,;(20.0,:(not_area(D,C), is (-(C),20.0)))),int(D),>(D,0.0),<(D,;(20.0,:(area(D,C),-(int(D))))),int(C),>(D,0.0),>(C,0.0),<(D,21.0),<(C,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 32}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
32&\texttt{time(160.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 33}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
33&\texttt{position(t1,cell(11.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 34}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
34&\texttt{time(161.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 35}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
35&\texttt{position(a3,cell(11.0,9.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 36}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
36&\texttt{position(a2,cell(6.0,16.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 37}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
37&\texttt{position(a3,cell(11.0,10.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 38}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
38&\texttt{time(162.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 39}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
39&\texttt{position(t1,cell(10.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 40}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
40&\texttt{position(a3,cell(11.0,11.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:


% Rules with string id: @sanction
% @sanction/0:
@sanction

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)

% Rules with string id: reduce
% reduce/2:
reduce(t1,300.0)
reduce(c1,300.0)
reduce(a1,300.0)
reduce(a2,300.0)
reduce(a3,300.0)
reduce(a4,300.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: viol
% viol/1:














viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])))
viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])))

% Rules with string id: obey
% obey/1:
obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(C,D))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(E)),true,false,false,false,[min(viol(agent_directed(F,G,prohibition(H,E))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,D)))|[]],[])

% Rules with string id: @ni
% @ni/3:
































































@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 40}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
40&\texttt{time(163.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: viol
% viol/1:





































% Rules with string id: obey
% obey/1:












obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))
obey(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,G)),H),false,(listTrue(I)),(time_past(J)),false,[plus(viol(agent_directed(K,L,obligation(I,J,G))))|[]],[plus(obey(agent_directed(M,N,obligation(O,P,Q))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(E,F,prohibition(G,H))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
































































@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]]))),do_sanction([reduce(t1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]]))),do_sanction([reduce(c1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]]))),do_sanction([reduce(a1,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]]))),do_sanction([reduce(a2,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]]))),do_sanction([reduce(a3,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(1.0),(@sanction,viol(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]]))),do_sanction([reduce(a4,300.0)|[]])),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)
@ni(@imply_rule(2.0),(@sanction,obey(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])))),remove)

\end{lstlisting}
\clearpage 
\subsection{Prolog state 42}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
42&\texttt{position(a2,cell(6.0,15.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 43}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
43&\texttt{position(a3,cell(11.0,12.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 44}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
44&\texttt{position(t1,cell(9.0,19.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 45}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
45&\texttt{position(a2,cell(6.0,14.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 46}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
46&\texttt{position(t1,cell(8.0,19.0),160.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 47}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
47&\texttt{position(a2,cell(6.0,13.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 48}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
48&\texttt{position(a2,cell(6.0,12.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 49}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
49&\texttt{position(a2,cell(6.0,11.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 50}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
50&\texttt{position(a2,cell(6.0,10.0),0.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 51}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
51&\texttt{position(a2,cell(6.0,9.0),161.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 52}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
52&\texttt{time(164.0)}&true&2013-12-04 16:46:40\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 53}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
53&\texttt{position(a3,cell(11.0,13.0),163.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 54}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
54&\texttt{position(t1,cell(7.0,19.0),163.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 55}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
55&\texttt{position(a2,cell(6.0,8.0),164.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 56}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
56&\texttt{time(165.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 57}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
57&\texttt{position(a3,cell(11.0,14.0),164.0)}&true&2013-12-04 16:46:41\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 58}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
58&\texttt{position(t1,cell(6.0,19.0),164.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 59}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
59&\texttt{position(a2,cell(6.0,7.0),165.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 60}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
60&\texttt{time(166.0)}&true&2013-12-04 16:46:42\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 61}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
61&\texttt{position(a3,cell(11.0,15.0),165.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 62}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
62&\texttt{position(t1,cell(5.0,19.0),166.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 63}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
63&\texttt{time(167.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 64}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
64&\texttt{position(a2,cell(6.0,6.0),166.0)}&true&2013-12-04 16:46:43\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 65}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
65&\texttt{position(a3,cell(11.0,16.0),166.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 66}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
66&\texttt{position(t1,cell(4.0,19.0),167.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 67}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
67&\texttt{time(168.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 68}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
68&\texttt{position(a3,cell(11.0,17.0),167.0)}&true&2013-12-04 16:46:44\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 69}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
69&\texttt{position(t1,cell(3.0,19.0),167.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 70}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
70&\texttt{time(169.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 71}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
71&\texttt{position(a3,cell(11.0,18.0),168.0)}&true&2013-12-04 16:46:45\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 72}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
72&\texttt{position(t1,cell(2.0,19.0),168.0)}&true&2013-12-04 16:46:46\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 73}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
73&\texttt{time(170.0)}&true&2013-12-04 16:46:46\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 74}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
74&\texttt{position(a3,cell(11.0,19.0),169.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 75}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
75&\texttt{position(t1,cell(2.0,18.0),169.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
>>>>>>> trunk

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

<<<<<<< HEAD
% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 17}
=======
\subsection{Prolog state 76}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
17&\texttt{position(a1,cell(5.0,5.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline\end{tabular}
=======
76&\texttt{time(171.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 18}
=======
\subsection{Prolog state 77}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
18&\texttt{position(a3,cell(11.0,5.0),0.0)}&true&2014-03-17 19:25:52\\ [1ex] \hline\end{tabular}
=======
77&\texttt{position(a3,cell(12.0,19.0),170.0)}&true&2013-12-04 16:46:47\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 19}
=======
\subsection{Prolog state 78}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
19&\texttt{position(t1,cell(15.0,19.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline\end{tabular}
=======
78&\texttt{position(t1,cell(2.0,17.0),170.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).
=======
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
>>>>>>> trunk

% Rules with string id: controller
% controller/1:
controller(c1)

<<<<<<< HEAD
=======
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 20}
=======
\subsection{Prolog state 79}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
20&\texttt{position(a2,cell(6.0,16.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline\end{tabular}
=======
79&\texttt{position(a3,cell(13.0,19.0),171.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)
>>>>>>> trunk

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

<<<<<<< HEAD
% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 21}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
21&\texttt{position(a3,cell(11.0,6.0),0.0)}&true&2014-03-17 19:25:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)
=======
% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
>>>>>>> trunk

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

<<<<<<< HEAD
% Rules with string id: controller
% controller/1:
controller(c1)

=======
>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 22}
=======
\subsection{Prolog state 80}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
22&\texttt{position(t1,cell(14.0,19.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline\end{tabular}
=======
80&\texttt{time(172.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 23}
=======
\subsection{Prolog state 81}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
23&\texttt{position(a2,cell(6.0,15.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline\end{tabular}
=======
81&\texttt{position(t1,cell(2.0,16.0),171.0)}&true&2013-12-04 16:46:48\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 24}
=======
\subsection{Prolog state 82}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
24&\texttt{position(a1,cell(5.0,6.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline\end{tabular}
=======
82&\texttt{position(a3,cell(14.0,19.0),172.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)
>>>>>>> trunk

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

<<<<<<< HEAD
% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 25}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
25&\texttt{position(a3,cell(11.0,7.0),0.0)}&true&2014-03-17 19:25:54\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)
=======
% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
>>>>>>> trunk

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

<<<<<<< HEAD
% Rules with string id: controller
% controller/1:
controller(c1)

=======
>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 26}
=======
\subsection{Prolog state 83}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
26&\texttt{position(t1,cell(13.0,19.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
83&\texttt{time(173.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 27}
=======
\subsection{Prolog state 84}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
27&\texttt{position(a2,cell(6.0,14.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
84&\texttt{position(t1,cell(2.0,15.0),172.0)}&true&2013-12-04 16:46:49\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 28}
=======
\subsection{Prolog state 85}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
28&\texttt{position(a1,cell(6.0,6.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
85&\texttt{position(a3,cell(15.0,19.0),173.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
>>>>>>> trunk

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

<<<<<<< HEAD
% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 29}
=======
\subsection{Prolog state 86}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
29&\texttt{position(a3,cell(11.0,8.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
86&\texttt{time(174.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 30}
=======
\subsection{Prolog state 87}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
30&\texttt{position(t1,cell(12.0,19.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
87&\texttt{position(t1,cell(2.0,14.0),173.0)}&true&2013-12-04 16:46:50\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)
>>>>>>> trunk

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

<<<<<<< HEAD
% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 31}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
31&\texttt{position(a2,cell(6.0,13.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)
=======
% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
>>>>>>> trunk

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

<<<<<<< HEAD
% Rules with string id: controller
% controller/1:
controller(c1)

=======
>>>>>>> trunk
% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

<<<<<<< HEAD
=======
% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

>>>>>>> trunk
% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

<<<<<<< HEAD
% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

=======
>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 32}
=======
\subsection{Prolog state 88}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
32&\texttt{position(a3,cell(11.0,9.0),0.0)}&true&2014-03-17 19:25:55\\ [1ex] \hline\end{tabular}
=======
88&\texttt{position(a3,cell(16.0,19.0),174.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 33}
=======
\subsection{Prolog state 89}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
33&\texttt{position(t1,cell(11.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
89&\texttt{time(175.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 34}
=======
\subsection{Prolog state 90}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
34&\texttt{position(a2,cell(6.0,12.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
90&\texttt{position(t1,cell(2.0,13.0),174.0)}&true&2013-12-04 16:46:51\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
>>>>>>> trunk

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

<<<<<<< HEAD
% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 35}
=======
\subsection{Prolog state 91}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
35&\texttt{position(a3,cell(11.0,10.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
91&\texttt{position(a3,cell(17.0,19.0),175.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 36}
=======
\subsection{Prolog state 92}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
36&\texttt{position(t1,cell(10.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
92&\texttt{position(t1,cell(2.0,12.0),175.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 37}
=======
\subsection{Prolog state 93}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
37&\texttt{position(a2,cell(6.0,11.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
93&\texttt{time(176.0)}&true&2013-12-04 16:46:52\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
<<<<<<< HEAD
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 38}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
38&\texttt{position(a3,cell(11.0,11.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
\subsection{Prolog state 94}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
94&\texttt{position(a3,cell(18.0,19.0),175.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 39}
=======
\subsection{Prolog state 95}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
39&\texttt{position(t1,cell(9.0,19.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
95&\texttt{position(t1,cell(2.0,11.0),176.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 40}
=======
\subsection{Prolog state 96}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
40&\texttt{position(a2,cell(6.0,10.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
96&\texttt{time(177.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 41}
=======
\subsection{Prolog state 97}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
41&\texttt{position(a3,cell(11.0,12.0),0.0)}&true&2014-03-17 19:25:56\\ [1ex] \hline\end{tabular}
=======
97&\texttt{position(a3,cell(19.0,19.0),176.0)}&true&2013-12-04 16:46:53\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 42}
=======
\subsection{Prolog state 98}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
42&\texttt{position(t1,cell(8.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
98&\texttt{position(t1,cell(2.0,10.0),176.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 43}
=======
\subsection{Prolog state 99}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
43&\texttt{position(a2,cell(6.0,9.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
99&\texttt{position(t1,cell(2.0,9.0),177.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 44}
=======
\subsection{Prolog state 100}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
44&\texttt{position(a3,cell(11.0,13.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
100&\texttt{time(178.0)}&true&2013-12-04 16:46:54\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 45}
=======
\subsection{Prolog state 101}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
45&\texttt{position(t1,cell(7.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
101&\texttt{position(t1,cell(2.0,8.0),178.0)}&true&2013-12-04 16:46:55\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 46}
=======
\subsection{Prolog state 102}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
46&\texttt{position(a2,cell(6.0,8.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
102&\texttt{time(179.0)}&true&2013-12-04 16:46:55\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

<<<<<<< HEAD
\end{lstlisting}
\clearpage 
\subsection{Prolog state 47}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
47&\texttt{position(a3,cell(11.0,14.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 103}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
103&\texttt{position(t1,cell(2.0,7.0),178.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 48}
=======
\subsection{Prolog state 104}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
48&\texttt{position(t1,cell(6.0,19.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
104&\texttt{position(t1,cell(2.0,6.0),179.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 49}
=======
\subsection{Prolog state 105}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
49&\texttt{position(a2,cell(6.0,7.0),0.0)}&true&2014-03-17 19:25:57\\ [1ex] \hline\end{tabular}
=======
105&\texttt{time(180.0)}&true&2013-12-04 16:46:56\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).

<<<<<<< HEAD
=======
% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

>>>>>>> trunk
% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 50}
=======
\subsection{Prolog state 106}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
50&\texttt{position(a3,cell(11.0,15.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
106&\texttt{reading(a1,cell(16.0,15.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
>>>>>>> trunk

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

<<<<<<< HEAD
% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 51}
=======
\subsection{Prolog state 107}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
51&\texttt{position(t1,cell(5.0,19.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
107&\texttt{reading(a1,cell(16.0,15.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 52}
=======
\subsection{Prolog state 108}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
52&\texttt{position(a2,cell(6.0,6.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
108&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
>>>>>>> trunk

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

<<<<<<< HEAD
% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 53}
=======
\subsection{Prolog state 109}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
53&\texttt{position(a3,cell(11.0,16.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
109&\texttt{reading(a2,cell(8.0,19.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 54}
=======
\subsection{Prolog state 110}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
54&\texttt{position(t1,cell(4.0,19.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
110&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 55}
=======
\subsection{Prolog state 111}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
55&\texttt{position(a3,cell(11.0,17.0),0.0)}&true&2014-03-17 19:25:58\\ [1ex] \hline\end{tabular}
=======
111&\texttt{position(t1,cell(2.0,5.0),179.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
<<<<<<< HEAD
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
% Rules with string id: @countsas
% @countsas/0:
@countsas

% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)

reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

<<<<<<< HEAD
=======
% Rules with string id: @ni
% @ni/3:
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a1)),obligation([coin(a1)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a1))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a2)),obligation([coin(a2)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a2))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a3)),obligation([coin(a3)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a3))),keep)
@ni(agent_directed(place_coin(c1),c1,obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(@countsas,norm(place_coin(c1),c1,(controller(c1),agent(a4)),obligation([coin(a4)|[]],+(now,15.0),[reduce(c1,100.0)|[]])),(controller(c1),agent(a4))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a1),a1,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(collect_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a2),a2,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(collect_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a3),a3,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(collect_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([makeReading(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([makeReading(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(collect_coin(a4),a4,obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(collect_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([makeReading(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a1),a1,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(@countsas,norm(surround_coin(a1),a1,(agent(a1),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a1,400.0)|[]])),(agent(a1),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a2),a2,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(@countsas,norm(surround_coin(a2),a2,(agent(a2),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a2,400.0)|[]])),(agent(a2),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a3),a3,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(@countsas,norm(surround_coin(a3),a3,(agent(a3),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a3,400.0)|[]])),(agent(a3),coin(2.0,2.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(8.0,6.0)),obligation([surround(8.0,6.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(8.0,6.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(16.0,16.0)),obligation([surround(16.0,16.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(16.0,16.0))),keep)
@ni(agent_directed(surround_coin(a4),a4,obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(@countsas,norm(surround_coin(a4),a4,(agent(a4),coin(2.0,2.0)),obligation([surround(2.0,2.0)|[]],+(now,15.0),[reduce(a4,400.0)|[]])),(agent(a4),coin(2.0,2.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,15.0)),prohibition([at(15.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(15.0,16.0)),prohibition([at(15.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,15.0)),prohibition([at(16.0,15.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(t1),t1,prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(@countsas,norm(enter_water(t1),t1,(truck(t1),water(16.0,16.0)),prohibition([at(16.0,16.0,t1)|[]],[reduce(t1,300.0)|[]])),(truck(t1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,15.0)),prohibition([coin(15.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(15.0,16.0)),prohibition([coin(15.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,15.0)),prohibition([coin(16.0,15.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a1),water(16.0,16.0)),prohibition([coin(16.0,16.0,a1)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,15.0)),prohibition([coin(15.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(15.0,16.0)),prohibition([coin(15.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,15.0)),prohibition([coin(16.0,15.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a2),water(16.0,16.0)),prohibition([coin(16.0,16.0,a2)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,15.0)),prohibition([coin(15.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(15.0,16.0)),prohibition([coin(15.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,15.0)),prohibition([coin(16.0,15.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a3),water(16.0,16.0)),prohibition([coin(16.0,16.0,a3)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,15.0)),prohibition([coin(15.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(15.0,16.0)),prohibition([coin(15.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,15.0)),prohibition([coin(16.0,15.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(place_coin_water(c1),c1,prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(@countsas,norm(place_coin_water(c1),c1,(controller(c1),agent(a4),water(16.0,16.0)),prohibition([coin(16.0,16.0,a4)|[]],[reduce(c1,300.0)|[]])),(controller(c1),agent(a4),water(16.0,16.0))),keep)
@ni(agent_directed(read_on_the_same_place(a1),a1,prohibition([reading(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(read_on_the_same_place(a1),a1,(agent(a1),reading(16.0,15.0,0.0,a1,0.0), is (1.0,+(0.0,1.0))),prohibition([reading(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),reading(16.0,15.0,0.0,a1,0.0), is (1.0,+(0.0,1.0)))),keep)
@ni(agent_directed(read_on_the_same_place(a2),a2,prohibition([reading(8.0,19.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(read_on_the_same_place(a2),a2,(agent(a2),reading(8.0,19.0,0.0,a2,0.0), is (1.0,+(0.0,1.0))),prohibition([reading(8.0,19.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),reading(8.0,19.0,0.0,a2,0.0), is (1.0,+(0.0,1.0)))),keep)
@ni(agent_directed(read_on_the_same_place(a3),a3,prohibition([reading(11.0,1.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(read_on_the_same_place(a3),a3,(agent(a3),reading(11.0,1.0,0.0,a3,0.0), is (1.0,+(0.0,1.0))),prohibition([reading(11.0,1.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),reading(11.0,1.0,0.0,a3,0.0), is (1.0,+(0.0,1.0)))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,15.0)),prohibition([at(15.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(15.0,16.0)),prohibition([at(15.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,15.0)),prohibition([at(16.0,15.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a1),a1,prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(@countsas,norm(enter_water(a1),a1,(agent(a1),water(16.0,16.0)),prohibition([at(16.0,16.0,a1)|[]],[reduce(a1,300.0)|[]])),(agent(a1),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,15.0)),prohibition([at(15.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(15.0,16.0)),prohibition([at(15.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,15.0)),prohibition([at(16.0,15.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a2),a2,prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(@countsas,norm(enter_water(a2),a2,(agent(a2),water(16.0,16.0)),prohibition([at(16.0,16.0,a2)|[]],[reduce(a2,300.0)|[]])),(agent(a2),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,15.0)),prohibition([at(15.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(15.0,16.0)),prohibition([at(15.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,15.0)),prohibition([at(16.0,15.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a3),a3,prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(@countsas,norm(enter_water(a3),a3,(agent(a3),water(16.0,16.0)),prohibition([at(16.0,16.0,a3)|[]],[reduce(a3,300.0)|[]])),(agent(a3),water(16.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,15.0)),prohibition([at(15.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(15.0,16.0)),prohibition([at(15.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(15.0,16.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,15.0)),prohibition([at(16.0,15.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,15.0))),keep)
@ni(agent_directed(enter_water(a4),a4,prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(@countsas,norm(enter_water(a4),a4,(agent(a4),water(16.0,16.0)),prohibition([at(16.0,16.0,a4)|[]],[reduce(a4,300.0)|[]])),(agent(a4),water(16.0,16.0))),keep)

>>>>>>> trunk
% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

<<<<<<< HEAD
\end{lstlisting}
\clearpage 
\subsection{Prolog state 56}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
56&\texttt{position(t1,cell(3.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 112}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
112&\texttt{reading(a3,cell(11.0,1.0),0.0,0.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 57}
=======
\subsection{Prolog state 113}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
57&\texttt{position(a3,cell(11.0,18.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
113&\texttt{time(181.0)}&true&2013-12-04 16:46:57\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 58}
=======
\subsection{Prolog state 114}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
58&\texttt{position(t1,cell(2.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
114&\texttt{position(t1,cell(2.0,4.0),180.0)}&true&2013-12-04 16:46:58\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 59}
=======
\subsection{Prolog state 115}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
59&\texttt{position(a3,cell(11.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
115&\texttt{time(182.0)}&true&2013-12-04 16:46:58\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 60}
=======
\subsection{Prolog state 116}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
60&\texttt{position(t1,cell(2.0,18.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
116&\texttt{position(t1,cell(2.0,3.0),181.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 61}
=======
\subsection{Prolog state 117}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
61&\texttt{position(a3,cell(12.0,19.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
117&\texttt{position(t1,cell(2.0,2.0),182.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 62}
=======
\subsection{Prolog state 118}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
62&\texttt{position(t1,cell(2.0,17.0),0.0)}&true&2014-03-17 19:25:59\\ [1ex] \hline\end{tabular}
=======
118&\texttt{time(183.0)}&true&2013-12-04 16:46:59\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 63}
=======
\subsection{Prolog state 119}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
63&\texttt{position(a3,cell(13.0,19.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline\end{tabular}
=======
119&\texttt{time(184.0)}&true&2013-12-04 16:47:00\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 64}
=======
\subsection{Prolog state 120}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
64&\texttt{position(t1,cell(2.0,16.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline\end{tabular}
=======
120&\texttt{time(185.0)}&true&2013-12-04 16:47:01\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

<<<<<<< HEAD
\end{lstlisting}
\clearpage 
\subsection{Prolog state 65}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
65&\texttt{position(a3,cell(14.0,19.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 121}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
121&\texttt{time(186.0)}&true&2013-12-04 16:47:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 66}
=======
\subsection{Prolog state 122}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
66&\texttt{position(t1,cell(2.0,15.0),0.0)}&true&2014-03-17 19:26:00\\ [1ex] \hline\end{tabular}
=======
122&\texttt{time(187.0)}&true&2013-12-04 16:47:03\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 67}
=======
\subsection{Prolog state 123}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
67&\texttt{position(a3,cell(15.0,19.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline\end{tabular}
=======
123&\texttt{time(188.0)}&true&2013-12-04 16:47:04\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 68}
=======
\subsection{Prolog state 124}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
68&\texttt{position(t1,cell(2.0,14.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline\end{tabular}
=======
124&\texttt{time(189.0)}&true&2013-12-04 16:47:05\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 69}
=======
\subsection{Prolog state 125}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
69&\texttt{position(a3,cell(16.0,19.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline\end{tabular}
=======
125&\texttt{time(190.0)}&true&2013-12-04 16:47:06\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 70}
=======
\subsection{Prolog state 126}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
70&\texttt{position(t1,cell(2.0,13.0),0.0)}&true&2014-03-17 19:26:01\\ [1ex] \hline\end{tabular}
=======
126&\texttt{time(191.0)}&true&2013-12-04 16:47:07\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 71}
=======
\subsection{Prolog state 127}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
71&\texttt{position(a3,cell(17.0,19.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline\end{tabular}
=======
127&\texttt{time(192.0)}&true&2013-12-04 16:47:08\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 72}
=======
\subsection{Prolog state 128}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
72&\texttt{position(t1,cell(2.0,12.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline\end{tabular}
=======
128&\texttt{time(193.0)}&true&2013-12-04 16:47:09\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 73}
=======
\subsection{Prolog state 129}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
73&\texttt{position(a3,cell(18.0,19.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline\end{tabular}
=======
129&\texttt{time(194.0)}&true&2013-12-04 16:47:10\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

<<<<<<< HEAD
\end{lstlisting}
\clearpage 
\subsection{Prolog state 74}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
74&\texttt{position(t1,cell(2.0,11.0),0.0)}&true&2014-03-17 19:26:02\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 130}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
130&\texttt{time(195.0)}&true&2013-12-04 16:47:11\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 75}
=======
\subsection{Prolog state 131}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
75&\texttt{position(a3,cell(19.0,19.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
131&\texttt{time(196.0)}&true&2013-12-04 16:47:12\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 76}
=======
\subsection{Prolog state 132}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
76&\texttt{position(t1,cell(2.0,10.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
132&\texttt{time(197.0)}&true&2013-12-04 16:47:13\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 77}
=======
\subsection{Prolog state 133}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
77&\texttt{position(t1,cell(2.0,9.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
133&\texttt{time(198.0)}&true&2013-12-04 16:47:14\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 78}
=======
\subsection{Prolog state 134}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
78&\texttt{position(t1,cell(2.0,8.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
134&\texttt{time(199.0)}&true&2013-12-04 16:47:15\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 79}
=======
\subsection{Prolog state 135}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
79&\texttt{position(t1,cell(2.0,7.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
135&\texttt{time(200.0)}&true&2013-12-04 16:47:16\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 80}
=======
\subsection{Prolog state 136}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
80&\texttt{position(t1,cell(2.0,6.0),0.0)}&true&2014-03-17 19:26:03\\ [1ex] \hline\end{tabular}
=======
136&\texttt{time(201.0)}&true&2013-12-04 16:47:17\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)
at(2.0,6.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 81}
=======
\subsection{Prolog state 137}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
81&\texttt{position(t1,cell(2.0,5.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline\end{tabular}
=======
137&\texttt{time(202.0)}&true&2013-12-04 16:47:18\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)
at(2.0,6.0,t1,0.0)
at(2.0,5.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 82}
=======
\subsection{Prolog state 138}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
82&\texttt{position(t1,cell(2.0,4.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline\end{tabular}
=======
138&\texttt{time(203.0)}&true&2013-12-04 16:47:19\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)
at(2.0,6.0,t1,0.0)
at(2.0,5.0,t1,0.0)
at(2.0,4.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

<<<<<<< HEAD
\end{lstlisting}
\clearpage 
\subsection{Prolog state 83}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
83&\texttt{position(t1,cell(2.0,3.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).

% Rules with string id: truck
% truck/1:
truck(t1)

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).
=======
\end{lstlisting}
\clearpage 
\subsection{Prolog state 139}
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
139&\texttt{time(204.0)}&true&2013-12-04 16:47:20\\ [1ex] \hline\end{tabular}
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))

% Rules with string id: truck
% truck/1:
truck(t1)
>>>>>>> trunk

% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)
at(2.0,6.0,t1,0.0)
at(2.0,5.0,t1,0.0)
at(2.0,4.0,t1,0.0)
at(2.0,3.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}
\clearpage 
<<<<<<< HEAD
\subsection{Prolog state 84}
=======
\subsection{Prolog state 140}
>>>>>>> trunk
\begin{table}[ht]
\centering 
\begin{tabular}{l l l l} 
\textbf{\#} & \textbf{Event} & \textbf{Regimented} & \textbf{Date} \\ [0.5ex] 
\hline
<<<<<<< HEAD
84&\texttt{position(t1,cell(2.0,2.0),0.0)}&true&2014-03-17 19:26:04\\ [1ex] \hline\end{tabular}
=======
140&\texttt{time(205.0)}&true&2013-12-04 16:47:21\\ [1ex] \hline\end{tabular}
>>>>>>> trunk
\end{table}
The state after this event:

\lstset{breaklines=true}\begin{lstlisting}[language=Prolog, numbers=left]
% Rules with string id: norm
% norm/4:
<<<<<<< HEAD
norm(sanction_group(ra),A,(ra(ra),sanction(B,C)),obligation([atleast(agent_sanctions(g),C)|[]],+(now,15.0),[reduce(A,C)|[]]))
norm(group_action(A),A,(group(A)),obligation([atleast(agent_sanctions(g),B)|[]],+(now,15.0),[sanction_group(A,B)|[]]))
norm(group_task(A),a1,(pursuer(a1),groupnorm(ra)),obligation([west(B,C,A)|[]],+(now,15.0),[reduce(a1,D)|[]]))
norm(group_task(a2),a2,(pursuer(a2),groupnorm(ra)),obligation([east(A,B,a2)|[]],+(now,15.0),[reduce(a2,C)|[]]))
norm(group_task(a3),a3,(pursuer(a3),groupnorm(ra)),obligation([north(A,B,a3)|[]],+(now,15.0),[reduce(a3,C)|[]]))
norm(group_task(a4),a4,(pursuer(a4),groupnorm(ra)),obligation([south(A,B,a4)|[]],+(now,15.0),[reduce(a4,C)|[]]))

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])

% Rules with string id: ra
% ra/1:
ra(ra)

% Rules with string id: group
% group/1:
group(group)

% Rules with string id: pursuer
% pursuer/1:
pursuer(a1)
pursuer(a2)
pursuer(a3)
pursuer(a4)

% Rules with string id: groupnorm
% groupnorm/1:
groupnorm(ra)

% Rules with string id: west
% west/3:
west(A,B,C) :-  is (D,-(A,1.0)),at(D,B,C).
% west/4:
west(A,B,C,B) :-  is (C,-(A,1.0)).

% Rules with string id: east
% east/3:
east(A,B,C) :-  is (D,+(A,1.0)),at(D,B,C).
% east/4:
east(A,B,C,B) :-  is (C,+(A,1.0)).

% Rules with string id: north
% north/3:
north(A,B,C) :-  is (D,+(B,1.0)),at(A,D,C).
% north/4:
north(A,B,A,C) :-  is (C,+(B,1.0)).

% Rules with string id: south
% south/3:
south(A,B,C) :-  is (D,-(B,1.0)),at(A,D,C).
% south/4:
south(A,B,A,C) :-  is (C,-(B,1.0)).
=======
norm(enter_water(A),A,(truck(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(game_area(A),A,(truck(A),not_area(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,500.0)|[]]))
norm(drop_load(A),A,(truck(A),cargo(B,C)),prohibition([cargo(B,C)|[]],[reduce(A,400.0)|[]]))
norm(place_coin_near(A),A,(controller(A),coin(B,C), is (D,+(B,1.0)), is (E,+(C,1.0)),gameArea(B,C)),prohibition([coin(D,E)|[]],[reduce(A,200.0)|[]]))
norm(place_coin_water(A),A,(controller(A),agent(B),water(C,D)),prohibition([coin(C,D,B)|[]],[reduce(A,300.0)|[]]))
norm(place_coin(A),A,(controller(A),agent(B)),obligation([coin(B)|[]],+(now,15.0),[reduce(A,100.0)|[]]))
norm(read_on_the_same_place(A),A,(agent(A),reading(B,C,D,A,E), is (F,+(E,1.0))),prohibition([reading(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(enter_water(A),A,(agent(A),water(B,C)),prohibition([at(B,C,A)|[]],[reduce(A,300.0)|[]]))
norm(collect_coin(A),A,(agent(A),coin(B,C)),obligation([makeReading(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
norm(surround_coin(A),A,(agent(A),coin(B,C)),obligation([surround(B,C)|[]],+(now,15.0),[reduce(A,400.0)|[]]))
>>>>>>> trunk

% Rules with string id: truck
% truck/1:
truck(t1)

<<<<<<< HEAD
% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

=======
>>>>>>> trunk
% Rules with string id: water
% water/2:
water(15.0,15.0)
water(15.0,16.0)
water(16.0,15.0)
water(16.0,16.0)

% Rules with string id: at
% at/3:
<<<<<<< HEAD
at(7.0,19.0,a2)
at(3.0,4.0,a1)
at(11.0,2.0,a3)
at(18.0,19.0,t1)
% at/4:
at(7.0,19.0,a2,0.0)
at(3.0,4.0,a1,0.0)
at(11.0,2.0,a3,0.0)
at(18.0,19.0,t1,0.0)
at(6.0,19.0,a2,0.0)
at(3.0,5.0,a1,0.0)
at(11.0,3.0,a3,0.0)
at(17.0,19.0,t1,0.0)
at(6.0,18.0,a2,0.0)
at(4.0,5.0,a1,0.0)
at(11.0,4.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(6.0,17.0,a2,0.0)
at(5.0,5.0,a1,0.0)
at(11.0,5.0,a3,0.0)
at(15.0,19.0,t1,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(14.0,19.0,t1,0.0)
at(6.0,15.0,a2,0.0)
at(5.0,6.0,a1,0.0)
at(11.0,7.0,a3,0.0)
at(13.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(6.0,6.0,a1,0.0)
at(11.0,8.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(6.0,13.0,a2,0.0)
at(11.0,9.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(6.0,12.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(6.0,11.0,a2,0.0)
at(11.0,11.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,10.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(8.0,19.0,t1,0.0)
at(6.0,9.0,a2,0.0)
at(11.0,13.0,a3,0.0)
at(7.0,19.0,t1,0.0)
at(6.0,8.0,a2,0.0)
at(11.0,14.0,a3,0.0)
at(6.0,19.0,t1,0.0)
at(6.0,7.0,a2,0.0)
at(11.0,15.0,a3,0.0)
at(5.0,19.0,t1,0.0)
at(6.0,6.0,a2,0.0)
at(11.0,16.0,a3,0.0)
at(4.0,19.0,t1,0.0)
at(11.0,17.0,a3,0.0)
at(3.0,19.0,t1,0.0)
at(11.0,18.0,a3,0.0)
at(2.0,19.0,t1,0.0)
at(11.0,19.0,a3,0.0)
at(2.0,18.0,t1,0.0)
at(12.0,19.0,a3,0.0)
at(2.0,17.0,t1,0.0)
at(13.0,19.0,a3,0.0)
at(2.0,16.0,t1,0.0)
at(14.0,19.0,a3,0.0)
at(2.0,15.0,t1,0.0)
at(15.0,19.0,a3,0.0)
at(2.0,14.0,t1,0.0)
at(16.0,19.0,a3,0.0)
at(2.0,13.0,t1,0.0)
at(17.0,19.0,a3,0.0)
at(2.0,12.0,t1,0.0)
at(18.0,19.0,a3,0.0)
at(2.0,11.0,t1,0.0)
at(19.0,19.0,a3,0.0)
at(2.0,10.0,t1,0.0)
at(2.0,9.0,t1,0.0)
at(2.0,8.0,t1,0.0)
at(2.0,7.0,t1,0.0)
at(2.0,6.0,t1,0.0)
at(2.0,5.0,t1,0.0)
at(2.0,4.0,t1,0.0)
at(2.0,3.0,t1,0.0)
at(2.0,2.0,t1,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).
=======
at(15.0,15.0,a1)
at(17.0,19.0,t1)
at(11.0,2.0,a3)
at(7.0,19.0,a2)
% at/4:
at(15.0,15.0,a1,0.0)
at(17.0,19.0,t1,0.0)
at(11.0,2.0,a3,0.0)
at(7.0,19.0,a2,0.0)
at(11.0,3.0,a3,0.0)
at(16.0,19.0,t1,0.0)
at(15.0,16.0,a1,0.0)
at(16.0,16.0,a1,0.0)
at(15.0,19.0,t1,0.0)
at(11.0,4.0,a3,0.0)
at(6.0,19.0,a2,0.0)
at(14.0,19.0,t1,0.0)
at(16.0,15.0,a1,0.0)
at(13.0,19.0,t1,0.0)
at(11.0,5.0,a3,0.0)
at(6.0,18.0,a2,0.0)
at(11.0,6.0,a3,0.0)
at(12.0,19.0,t1,0.0)
at(11.0,7.0,a3,0.0)
at(6.0,17.0,a2,0.0)
at(11.0,8.0,a3,0.0)
at(11.0,19.0,t1,0.0)
at(11.0,9.0,a3,0.0)
at(6.0,16.0,a2,0.0)
at(11.0,10.0,a3,0.0)
at(10.0,19.0,t1,0.0)
at(11.0,11.0,a3,0.0)
at(6.0,15.0,a2,0.0)
at(11.0,12.0,a3,0.0)
at(9.0,19.0,t1,0.0)
at(6.0,14.0,a2,0.0)
at(8.0,19.0,t1,160.0)
at(6.0,13.0,a2,0.0)
at(6.0,12.0,a2,0.0)
at(6.0,11.0,a2,0.0)
at(6.0,10.0,a2,0.0)
at(6.0,9.0,a2,161.0)
at(11.0,13.0,a3,163.0)
at(7.0,19.0,t1,163.0)
at(6.0,8.0,a2,164.0)
at(11.0,14.0,a3,164.0)
at(6.0,19.0,t1,164.0)
at(6.0,7.0,a2,165.0)
at(11.0,15.0,a3,165.0)
at(5.0,19.0,t1,166.0)
at(6.0,6.0,a2,166.0)
at(11.0,16.0,a3,166.0)
at(4.0,19.0,t1,167.0)
at(11.0,17.0,a3,167.0)
at(3.0,19.0,t1,167.0)
at(11.0,18.0,a3,168.0)
at(2.0,19.0,t1,168.0)
at(11.0,19.0,a3,169.0)
at(2.0,18.0,t1,169.0)
at(12.0,19.0,a3,170.0)
at(2.0,17.0,t1,170.0)
at(13.0,19.0,a3,171.0)
at(2.0,16.0,t1,171.0)
at(14.0,19.0,a3,172.0)
at(2.0,15.0,t1,172.0)
at(15.0,19.0,a3,173.0)
at(2.0,14.0,t1,173.0)
at(16.0,19.0,a3,174.0)
at(2.0,13.0,t1,174.0)
at(17.0,19.0,a3,175.0)
at(2.0,12.0,t1,175.0)
at(18.0,19.0,a3,175.0)
at(2.0,11.0,t1,176.0)
at(19.0,19.0,a3,176.0)
at(2.0,10.0,t1,176.0)
at(2.0,9.0,t1,177.0)
at(2.0,8.0,t1,178.0)
at(2.0,7.0,t1,178.0)
at(2.0,6.0,t1,179.0)
at(2.0,5.0,t1,179.0)
at(2.0,4.0,t1,180.0)
at(2.0,3.0,t1,181.0)
at(2.0,2.0,t1,182.0)

% Rules with string id: not_area
% not_area/2:
not_area(A,B) :-  is (A,20.0),int(B),>(B,0.0),<(B,;(20.0,:(not_area(A,B), is (-(B),20.0)))),int(A),>(A,0.0),<(A,;(20.0,:(area(A,B),-(int(A))))),int(B),>(A,0.0),>(B,0.0),<(A,21.0),<(B,21.0).

% Rules with string id: controller
% controller/1:
controller(c1)

% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: agent
% agent/1:
agent(a1)
agent(a2)
agent(a3)
agent(a4)
>>>>>>> trunk

% Rules with string id: reading
% reading/2:
reading(A,B) :- ;(reading(A,B,C,D,E),:(makeGroupReading(A,B), is (-(F),+(A,1.0)))), is (G,+(B,1.0)), is (H,-(A,1.0)), is (I,-(B,1.0)),makeReading(F,B),makeReading(H,B),makeReading(A,G),makeReading(A,I).
<<<<<<< HEAD
=======
% reading/5:
reading(16.0,15.0,0.0,a1,0.0)
reading(8.0,19.0,0.0,a2,0.0)
reading(11.0,1.0,0.0,a3,0.0)

% Rules with string id: surround
% surround/2:
surround(A,B) :-  is (C,+(A,1.0)), is (D,+(B,1.0)), is (E,-(A,1.0)), is (F,-(B,1.0)),reading(C,B),reading(E,B),reading(A,D),reading(A,F).

% Rules with string id: movable
% movable/1:
movable(A) :- agent(A).
movable(A) :- truck(A).

% Rules with string id: coordinator
% coordinator/1:
coordinator(c2)

% Rules with string id: points
% points/2:
points(a1,1000.0)
points(a2,1000.0)
points(a3,1000.0)
points(a4,1000.0)
points(c1,1000.0)
points(t1,1000.0)

% Rules with string id: time_past
% time_past/1:
time_past(A) :- clock(B),>(B,A).

% Rules with string id: time_since
% time_since/1:
time_since(A) :- clock(B),>(A,B).
>>>>>>> trunk

% Rules with string id: tooFar
% tooFar/4:
tooFar(A,B,C,D) :- false.

% Rules with string id: do_sanction
% do_sanction/1:
do_sanction([not(A)|B]) :- retract(A),do_sanction(B).
do_sanction([A|B]) :- uniqueassertz(A),do_sanction(B).
do_sanction([])

% Rules with string id: do_reduce_health
% do_reduce_health/2:
do_reduce_health(A,B) :- points(A,C), is (D,-(C,B)),clock(E),@external(geoSenseMW,write(points(A,E,D),-1.0),F).

<<<<<<< HEAD
% Rules with string id: coin
% coin/2:
coin(8.0,6.0)
coin(16.0,16.0)
coin(2.0,2.0)

% Rules with string id: cargo
% cargo/2:
cargo(19.0,19.0)
=======
% Rules with string id: listTrue
% listTrue/1:
listTrue(A)
listTrue([A|B]) :- A,listTrue(B).
listTrue([])
>>>>>>> trunk

% Rules with string id: @scheme
% @scheme/8:
@scheme(agent_directed(A,B,obligation(C,D,E)),(@countsas,norm(A,B,F,obligation(C,D,E)),F),false,(listTrue(C)),(time_past(D)),false,[plus(viol(agent_directed(A,B,obligation(C,D,E))))|[]],[plus(obey(agent_directed(A,B,obligation(C,D,E))))|[]])
@scheme(agent_directed(A,B,prohibition(C,D)),(@countsas,norm(A,B,E,prohibition(C,D)),E),(listTrue(C)),false,(false),false,[plus(viol(agent_directed(A,B,prohibition(C,D))))|[]],[plus(obey(agent_directed(A,B,prohibition(C,D))))|[]])
@scheme(@imply_rule(0.0),(@sanction,reduce(A,B),do_reduce_health(A,B)),true,false,false,false,[min(reduce(A,B))|[]],[])
@scheme(@imply_rule(1.0),(@sanction,viol(agent_directed(A,B,prohibition(C,D))),do_sanction(D)),true,false,false,false,[min(viol(agent_directed(A,B,prohibition(C,D))))|[]],[])
@scheme(@imply_rule(2.0),(@sanction,obey(agent_directed(A,B,C))),true,false,false,false,[min(obey(agent_directed(A,B,C)))|[]],[])

% Rules with string id: @update
% @update/3:
@update((true),tuple_space_changed,[plus(true)|[]])
@update((clock(A)),time(B),[min(clock(A)),plus(clock(B))|[]])
@update((true),time(A),[plus(clock(A))|[]])
@update((at(A,B,C)),position(C,cell(D,E),F),[plus(at(D,E,C,F))|[]])
@update((true),position(A,cell(B,C),D),[plus(at(B,C,A,D)),plus(at(B,C,A))|[]])
@update((reading(A,B,C,D,E)),reading(D,cell(A,B),F,G),[min(reading(A,B,C,D,E)),plus(reading(A,B,F,D,G))|[]])
@update((true),reading(A,cell(B,C),D,E),[plus(reading(B,C,D,A,E))|[]])
@update((true),coin(cell(A,B),C,D),[plus(coin(A,B))|[]])
@update((true),cargo(cell(A,B),C),[plus(cargo(A,B))|[]])
@update((points(A,B)),points(A,C,D),[min(points(A,B)),plus(points(A,D))|[]])
@update((true),points(A,B,C),[plus(points(A,C))|[]])

\end{lstlisting}

\end{document}
